# Project Tracker

Work in progress tasks & To-Do's

- [x] setup repositories ([app](https://github.com/kelzenberg/devops-app) & [infra](https://github.com/kelzenberg/devops-app-infra))
- [x] setup Minikube & components
- [x] create Makefile to bootstrap local k8s
- [x] configure Minikube's k8s via config yaml files
- [x] ~~configure `minikube ip` IPs to be static on host & use in ingress etc.~~
  - Static IPs for Minikube are only possible with the docker driver
  - Minikube remains its IP address with Virtualbox driver between sessions though
  - [x] document caveat of IP address with virtualbox & downsides of docker driver
- [x] use ghcr.io as image registry within minikube
  - [x] document on how to add ghcr.io registry for minikube with `minikube addons configure registry-creds`
- [x] Environments:
  - [x] Staging
  - [x] Production
    - [x] manual review/release required for `production` env release
    - [x] document what restrictions branches have
- [x] CI is only triggered through a change in the VCS
- [x] create min. 3 Github actions in CI/CD workflow
  - [x] build (Node)
  - [x] test (Node)
  - [x] build-and-push (Docker & GHCR)
- [x] fix Github workflow tokens
- [x] at least one service (e.g. VCS, Monitoring) other than the app has to be provisioned by yourself
  - --> Database
- [x] register Github self-hosted runner
  - [x] document on how to add a self-hosted runner for this project (RUNNER_TOKEN)
  - [x] describe requirements for GH runner (e.g. `kubectl` installed)
  - [x] describe CI-INFRA_REPO_TOKEN secret to checkout infra-repo from app-repro
- [x] inject `API_KEY_*` and `DB_PASSWORD` into deployments
- [x] relevant services (VCS, CI/CD, App, Monitoring) accessible via FQDN
  - [x] VCS
  - [x] CI/CD
  - [x] Devops app
  - [x] Monitoring => Minikube Dashboard
- [x] exposed services served via HTTPS (self-signed)
  - [x] document `brew install mkcert` as requirement
  - [x] document `mkcert -install` as requirement
- [x] application must run 100% redundant (replica: 2+)
- [x] zero-downtime deployment strategy
  - [x] add rolling-update policy, configurable in `kind: deployment`
- [x] ~~add liveness & readiness probes to postgresql~~
- [x] add app request logging
- [x] cleanup READMEs
